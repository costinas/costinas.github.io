function CustomSearch(e){$.get("pages/"+e+".html").done(function(t){ractive.set("dataout",t),"contact"==e&&$(".floating-labels").length>0&&(floatLabels(),CheckRequired(),$('input[type="submit"]').click(function(e){CheckBefore(),1!=BeforeSubmit()&&e.preventDefault()}))})}function SetHashLocation(e){window.location.hash="#"+e}function OnHashChange(){var e=window.location.hash.substring(1);""!=e?CustomSearch(e):closeModal(),$('[data-type="modal-trigger"]').each(function(){""==e||$(this).attr("name")!=e||$(this).hasClass("to-circle")||OpenModal($(this))})}function WhichTransitionEvent(){var e,t=document.createElement("fakeelement");const a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in a)if(void 0!==t.style[e])return a[e]}function OpenModal(e){var t=retrieveScale(e.next(".cd-modal-bg"));e.addClass("to-circle"),e.next(".cd-modal-bg").addClass("is-visible").one(transitionEvent,function(){animateLayer(e.next(".cd-modal-bg"),t[0],t[1],!0)}),e.parents(".no-csstransitions").length>0&&animateLayer(e.next(".cd-modal-bg"),t[0],t[1],!0)}function retrieveScale(e){var t=e.height()/2,a=e.width()/2,n=e.offset().top+t-$(window).scrollTop(),i=e.offset().left+a,o=scaleValue(n,i,t,a);return e.css("position","fixed").velocity({top:n-t,left:i-a,translateX:0},0),[o[0],o[1]]}function scaleValue(e,t,a,n){var i=e>$(window).height()/2?e:$(window).height()-e,o=t>$(window).width()/2?t:$(window).width()-t;return[Math.ceil(i/a),Math.ceil(o/n)]}function animateLayer(e,t,a,n){e.velocity({scaleY:t,scaleX:a},400,function(){$("body").toggleClass("overflow-hidden",n),n?e.parents(".cd-section").addClass("modal-is-visible").end().off(transitionEvent):e.removeClass("is-visible").removeAttr("style").siblings('[data-type="modal-trigger"]').removeClass("to-circle")})}function updateLayer(){var e=$(".cd-section.modal-is-visible").find(".cd-modal-bg"),t=e.height()/2,a=e.width()/2,n=e.siblings(".box").offset().top+t-$(window).scrollTop(),i=e.siblings(".box").offset().left+a,o=scaleValue(n,i,t,a);e.velocity({top:n-e.height()/2,left:i-e.width()/2,scaleY:o[0],scaleX:o[1]},0)}function closeModal(){var e=$(".cd-section.modal-is-visible");e.removeClass("modal-is-visible").one(transitionEvent,function(){animateLayer(e.find(".cd-modal-bg"),1,1,!1)}),e.parents(".no-csstransitions").length>0&&animateLayer(e.find(".cd-modal-bg"),1,1,!1)}function floatLabels(){$(".floating-labels .cd-label").next().each(function(){$(this).on("change keyup",function(){""!=$(this).val()?$(this).prev(".cd-label").addClass("float"):$(this).prev(".cd-label").removeClass("float")})})}function CheckRequired(){$(".required").each(function(){$(this).on("keyup keypress blur change",function(){const e=/^[a-zA-Z]+$/,t=/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;var a;"cd-name"==$(this).attr("id")&&(a=e),"cd-email"==$(this).attr("id")&&(a=t),$(this).val().match(a)&&0!=$(this).val().length&&""!=$(this).val()?$(this).removeClass("error"):$(this).addClass("error")})})}function BeforeSubmit(){if($(".cd-form").find("input, textarea").hasClass("error")){var e=$(".error").attr("id"),t=$(".error-message");return $(".error").length>1?t.html("<p>Please fill out the required fields.</p>"):"cd-name"==e?t.html("<p>Please enter your NAME (only letters).</p>"):"cd-email"==e?t.html("<p>Please enter a valid EMAIL address.</p>"):"cd-textarea"==e&&t.html("<p>Write me a message.</p>"),t.fadeIn(400),!1}return!0}function CheckBefore(){$(".required").each(function(){0==$(this).val()&&$(this).addClass("error")})}Ractive.DEBUG=!1,window.onhashchange=OnHashChange,window.onload=OnHashChange,$(document).ready(function(){const e=$(".box-1"),t=$(".box-2"),a=$(".box-3"),n=$(".box-4");e.addClass("hover").delay(300).queue(function(i){$(this).removeClass("hover"),i(),t.addClass("hover").delay(300).queue(function(i){$(this).removeClass("hover"),i(),a.addClass("hover").delay(300).queue(function(i){$(this).removeClass("hover"),i(),n.addClass("hover").delay(300).queue(function(n){$(this).removeClass("hover"),n(),a.addClass("hover").delay(300).queue(function(a){$(this).removeClass("hover"),a(),t.addClass("hover").delay(300).queue(function(t){$(this).removeClass("hover"),t(),e.addClass("hover").delay(300).queue(function(e){$(this).removeClass("hover"),e()})})})})})})})});var ractive=new Ractive({el:".cd-modal-content",template:"#template"});$('[data-type="modal-trigger"]').on("click",function(){SetHashLocation($(this).attr("name")),OpenModal($(this))}),$(document).keyup(function(e){"27"==e.which&&closeModal()}),$(window).on("resize",function(){$(".cd-section.modal-is-visible").length>0&&window.requestAnimationFrame(updateLayer)});const transitionEvent=WhichTransitionEvent();